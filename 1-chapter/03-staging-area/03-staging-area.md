# Staging Area (Індекс) у Git.

## Архітектура Git

Git працює з трьома зонами:

```
+-------------------+      +-------------------+      +-------------------+
| Working Directory | ---> |   Staging Area    | ---> |    Repository     |
+-------------------+      +-------------------+      +-------------------+
```
## Зони Git

• Working Directory

Поточні файли проєкту (файлова система)
	
• Staging Area

Підготовка змін до коміту

• Repository

Історія комітів.

### Working Directory (Робоча директорія)

Робоча директорія — це поточний стан файлів проєкту.

Тут відбувається:

• Створення файлів
• Редагування
• Видалення

Будь-яка зміна спочатку з’являється саме тут.

### Staging Area (Індекс)

Staging Area — проміжна область між робочою директорією та репозиторієм.

Призначення:

• Формування майбутнього коміту
• Контроль змін
• Можливість часткового додавання змін

Додавання файлу в індекс:

```bash
git add <file>
```

Після виконання команди файл переходить у стан Staged.

Commit створюється лише з вмісту індексу.

### Репозиторій

Репозиторій зберігає історію комітів.

***Створення коміту***

```bash
git commit
```

Команда:

• Створює snapshot з індексу
• Записує його в історію
• Очищає індекс

## Стани файлів

1. **Untracked**

* Файл існує в робочій директорії, але не відстежується Git.

```bash
git add <file>
```
2. **Staged**

* Файл доданий в індекс і буде включений у наступний коміт.

3. **Unmodified**

* Файл відстежується і відповідає останньому коміту.

4. **Modified**

* Файл відстежується, але має локальні зміни - які ще не додані в індекс.

### Життєвий цикл файлу

```
           +------------+
           | Untracked  |
           +------------+
                 |
                 | git add
                 ▼
           +------------+
           |  Staged    |
           +------------+
                 |
                 | git commit
                 ▼
           +------------+
           | Unmodified |
           +------------+
                 |
                 | edit
                 ▼
           +------------+
           |  Modified  |
           +------------+
                 |
                 | git add
                 └───────────────► Staged
```


Можливо скасувати зміни останнього комміту, для цього використовується команда: 

```
git reset --hard
```

